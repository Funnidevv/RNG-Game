<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Aura RNG Game</title>
  <style>
    :root {
      --primary: #6c63ff;
      --bg: #121212;
      --card-bg: rgba(255, 255, 255, 0.05);
      --border: rgba(255, 255, 255, 0.1);
      --text: #f0f0f0;
      --accent: #00ffd0;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--bg);
      color: var(--text);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    h1 {
      font-size: 2.5rem;
      color: var(--accent);
      margin-bottom: 20px;
    }

    .container {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 15px;
      padding: 25px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(10px);
      margin-bottom: 20px;
    }

    input[type="text"] {
      padding: 10px;
      width: 70%;
      border-radius: 8px;
      border: none;
      outline: none;
      background: #1f1f1f;
      color: var(--text);
      margin-bottom: 10px;
    }

    button {
      padding: 10px 20px;
      background: var(--primary);
      border: none;
      border-radius: 8px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s ease;
      margin: 5px;
    }

    button:hover {
      background: #4d45e2;
    }

    button:disabled {
      background: #555;
      cursor: not-allowed;
    }

    #auraDisplay {
      font-size: 1.2rem;
      margin: 10px 0;
    }

    .aura-count {
      font-size: 2rem;
      font-weight: bold;
      color: var(--accent);
    }

    .aura-type {
      font-weight: bold;
    }

    #lastAura {
      margin-top: 10px;
      font-size: 1.1rem;
    }

    .dev-mode {
      color: #ff4a4a;
      margin-top: 10px;
    }

    ol {
      list-style: none;
      padding-left: 0;
    }

    li {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid var(--border);
      padding: 10px;
      margin: 5px 0;
      border-radius: 10px;
    }

    .aura-category.Common { color: #cccccc; }
    .aura-category.Uncommon { color: #6effa1; }
    .aura-category.Rare { color: #00bfff; }
    .aura-category.Epic { color: #c770ff; }
    .aura-category.Legendary { color: #ffa500; }
    .aura-category.Mythic { color: #ff4da6; }
    .aura-category.Celestial { color: #00ffe1; }
    .aura-category.Corrupted { color: #ff3333; }

  </style>
</head>
<body>
  <h1>Aura RNG Game</h1>

  <div class="container" id="nameInputDiv">
    <input id="playerName" type="text" placeholder="Enter unique name" />
    <button onclick="startGame()">Start Game</button>
  </div>

  <div class="container" id="game" style="display: none;">
    <div id="auraDisplay">Auras Collected: <span class="aura-count" id="auraCount">0</span></div>
    <button id="rollBtn" onclick="rollAura()">üé≤ Roll Aura</button>
    <p id="lastAura"></p>
    <p id="devIndicator" class="dev-mode" style="display: none;">üë®‚Äçüíª Developer Mode Enabled</p>
    <button onclick="enterDevMode()">Enter Dev Mode</button>
  </div>

  <div class="container" id="leaderboard">
    <h2>üèÜ Leaderboard</h2>
    <ol id="leaderboardList"></ol>
  </div>

  <script>
    const auraTypes = [
      "Common", "Uncommon", "Rare", "Epic", "Legendary", "Mythic", "Celestial", "Corrupted"
    ];
    const auraChances = [40, 25, 15, 10, 5, 3, 1.5, 0.5];
    const cooldownTime = 3000;
    const DEV_KEY = "d3v-2a9b91f4f3e048fa9bcdab1a7f4f";

    let auraCount = 0;
    let isDev = false;
    let playerName = "";

    function startGame() {
      const nameInput = document.getElementById("playerName").value.trim();
      if (!nameInput) {
        alert("Name cannot be empty.");
        return;
      }

      const leaderboard = getLeaderboard();
      if (leaderboard.some(player => player.name.toLowerCase() === nameInput.toLowerCase())) {
        alert("Name already exists. Pick a new one.");
        return;
      }

      playerName = nameInput;
      document.getElementById("nameInputDiv").style.display = "none";
      document.getElementById("game").style.display = "block";

      loadGame();
      updateDisplay();
    }

    function rollAura() {
      const rollBtn = document.getElementById("rollBtn");
      if (!isDev) {
        rollBtn.disabled = true;
        setTimeout(() => rollBtn.disabled = false, cooldownTime);
      }

      const aura = getRandomAura();
      auraCount += 1;
      document.getElementById("lastAura").innerHTML = `You rolled a <span class="aura-category ${aura}">${aura}</span> aura!`;
      updateDisplay();
      saveGame();
    }

    function getRandomAura() {
      let rand = Math.random() * 100;
      for (let i = 0; i < auraTypes.length; i++) {
        if (rand < auraChances[i]) {
          return auraTypes[i];
        }
        rand -= auraChances[i];
      }
      return auraTypes[0];
    }

    function updateDisplay() {
      document.getElementById("auraCount").textContent = auraCount;
      updateLeaderboard();
    }

    function saveGame() {
      const data = {
        auraCount,
        playerName,
        isDev
      };
      localStorage.setItem("rngGameSave", JSON.stringify(data));

      const leaderboard = getLeaderboard();
      const existing = leaderboard.find(player => player.name.toLowerCase() === playerName.toLowerCase());
      if (existing) {
        existing.auras = Math.max(existing.auras, auraCount);
      } else {
        leaderboard.push({ name: playerName, auras: auraCount });
      }
      localStorage.setItem("rngLeaderboard", JSON.stringify(leaderboard));
    }

    function loadGame() {
      const saved = JSON.parse(localStorage.getItem("rngGameSave"));
      if (saved && saved.playerName === playerName) {
        auraCount = saved.auraCount || 0;
        isDev = saved.isDev || false;
        if (isDev) {
          document.getElementById("devIndicator").style.display = "block";
        }
      }
    }

    function getLeaderboard() {
      return JSON.parse(localStorage.getItem("rngLeaderboard") || "[]");
    }

    function updateLeaderboard() {
      const list = document.getElementById("leaderboardList");
      const data = getLeaderboard();
      data.sort((a, b) => b.auras - a.auras);
      list.innerHTML = "";
      data.forEach(player => {
        const item = document.createElement("li");
        item.textContent = `${player.name}: ${player.auras} auras`;
        list.appendChild(item);
      });
    }

    function enterDevMode() {
      const input = prompt("Enter developer key:");
      if (input === DEV_KEY) {
        isDev = true;
        document.getElementById("devIndicator").style.display = "block";
        alert("Developer mode enabled.");
        saveGame();
      } else {
        alert("Invalid key.");
      }
    }

    window.onload = updateLeaderboard;
  </script>
</body>
</html>
